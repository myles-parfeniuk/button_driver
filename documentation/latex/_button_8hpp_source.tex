\doxysection{Button.\+hpp}
\label{_button_8hpp_source}\index{D:/development/esp/projects/idf\_4\_0/data\_control\_rework/components/button\_driver/Button.hpp@{D:/development/esp/projects/idf\_4\_0/data\_control\_rework/components/button\_driver/Button.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}../data\_control/DataControl.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}../task\_wrapper/TaskWrapper.hpp"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{comment}{//esp-\/idf\ includes}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}esp\_err.h"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{comment}{//standard\ library\ includes}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{class\ }Button\ \{\ \ \ \ \ \ \ }
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{public}:\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{enum\ class}\ ButtonEvent\ }
\DoxyCodeLine{00037\ \ \ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ quick\_press,\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ long\_press,\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ held,\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ released\ }
\DoxyCodeLine{00042\ \ \ \ \ \};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{struct\ }button\_config\_t\{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ gpio\_num\_t\ gpio\_num;\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ active\_lo;\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ active\_hi;\ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ pull\_en;\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ int64\_t\ long\_press\_evt\_time;\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ int64\_t\ held\_evt\_time;\ }
\DoxyCodeLine{00053\ \ \ \ \ \};\ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00078\ \ \ \ \ Button(button\_config\_t\ button\_conf,\ \textcolor{keywordtype}{bool}\ logging\_en\ =\ \textcolor{keyword}{false},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name\ =\ \textcolor{stringliteral}{"{}unamed"{}});}
\DoxyCodeLine{00079\ \ \ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{bool}\ scan();\ }
\DoxyCodeLine{00097\ \ \ \ \ }
\DoxyCodeLine{00098\ \ \ \ \ DataControl::CallAlways<ButtonEvent>\ event;\ }
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00101\ \ \ }
\DoxyCodeLine{00102\ \ \ \ \ button\_config\_t\ button\_conf;\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{bool}\ initialized;\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{bool}\ logging\_en;\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{bool}\ pending\_scan;\ \ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name;\ }
\DoxyCodeLine{00107\ \ \ \ \ TaskWrapper<Button>\ task;\ }
\DoxyCodeLine{00108\ \ \ }
\DoxyCodeLine{00117\ \ \ \textcolor{keywordtype}{bool}\ get\_button\_level();\ }
\DoxyCodeLine{00118\ \ \ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{void}\ generate\_quick\_press\_evt();}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00139\ \ \ \ \textcolor{keywordtype}{void}\ generate\_long\_press\_evt();}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00150\ \ \ \ \textcolor{keywordtype}{void}\ generate\_held\_evt();}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00161\ \ \ \ \textcolor{keywordtype}{void}\ generate\_released\_evt();}
\DoxyCodeLine{00162\ \ \ \ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{bool}\ press\_check();}
\DoxyCodeLine{00173\ \ \ }
\DoxyCodeLine{00183\ \ \ \textcolor{keywordtype}{void}\ released\_check();}
\DoxyCodeLine{00184\ \ \ }
\DoxyCodeLine{00198\ \ \ \textcolor{keywordtype}{void}\ button\_task();}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ IRAM\_ATTR\ button\_handler(\textcolor{keywordtype}{void}\ *arg);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{char}*\ TAG\ =\ \textcolor{stringliteral}{"{}Button"{}};\ }
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ isr\_service\_installed;\ }
\DoxyCodeLine{00218\ \ }
\DoxyCodeLine{00219\ \ \ \ }
\DoxyCodeLine{00220\ \};}

\end{DoxyCode}
