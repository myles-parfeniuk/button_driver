<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ButtonDriver: Button Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ButtonDriver<span id="projectnumber">&#160;1.03</span>
   </div>
   <div id="projectbrief">Driving push-buttons &amp; tactile switches with esp-idf.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_button-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Button Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class representing push-button or tactile switch, has self-contained driver.  
 <a href="class_button.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_button_8hpp_source.html">Button.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_button_1_1button__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#struct_button_1_1button__config__t">button_config_t</a></td></tr>
<tr class="separator:struct_button_1_1button__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8116e8c26b547c2801572f7b45aceea8"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8">ButtonEvent</a> { <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8aead9be15f56a79815ce4b75f6ada4954">quick_press</a>
, <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8a4c733dc96efea4f817573c76f22afefd">long_press</a>
, <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8a0eb29f5d6149e84750bcd6f6e741a7a1">held</a>
, <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8a23690fd759f17135ec9879b56ff2600c">released</a>
 }</td></tr>
<tr class="memdesc:a8116e8c26b547c2801572f7b45aceea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The different kinds of button events that can be detected.  <a href="class_button.html#a8116e8c26b547c2801572f7b45aceea8">More...</a><br /></td></tr>
<tr class="separator:a8116e8c26b547c2801572f7b45aceea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa04c84eccbac801a3f77fd36002dc486"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#aa04c84eccbac801a3f77fd36002dc486">Button</a> (<a class="el" href="class_button.html#struct_button_1_1button__config__t">button_config_t</a> <a class="el" href="class_button.html#a3b973cad54cbb17738dc442a2242935e">button_conf</a>, bool <a class="el" href="class_button.html#a6277c0ef74f409a3a5a1af0b0ffaca7c">logging_en</a>=false, const char *<a class="el" href="class_button.html#a7f62bfcedac3168177a12db8483e3e3a">name</a>=&quot;unamed&quot;)</td></tr>
<tr class="memdesc:aa04c84eccbac801a3f77fd36002dc486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_button.html" title="Class representing push-button or tactile switch, has self-contained driver.">Button</a> object.  <br /></td></tr>
<tr class="separator:aa04c84eccbac801a3f77fd36002dc486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713b68291767522afcc497527010583f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a713b68291767522afcc497527010583f">scan</a> ()</td></tr>
<tr class="memdesc:a713b68291767522afcc497527010583f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan for button event.  <br /></td></tr>
<tr class="separator:a713b68291767522afcc497527010583f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a77c3cd3d62682c2ae22f43cb301329d3"><td class="memItemLeft" align="right" valign="top"><a id="a77c3cd3d62682c2ae22f43cb301329d3" name="a77c3cd3d62682c2ae22f43cb301329d3"></a>
DataControl::CallAlways&lt; <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8">ButtonEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>event</b></td></tr>
<tr class="memdesc:a77c3cd3d62682c2ae22f43cb301329d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">DataWrapper containing button event, call-back function can be registered to button with follow() method (see data_control documentation) <br /></td></tr>
<tr class="separator:a77c3cd3d62682c2ae22f43cb301329d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a60233721ae6d1ba8799be7d9f72679"><td class="memItemLeft" align="right" valign="top"><a id="a5a60233721ae6d1ba8799be7d9f72679" name="a5a60233721ae6d1ba8799be7d9f72679"></a>
TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><b>button_task_hdl</b></td></tr>
<tr class="memdesc:a5a60233721ae6d1ba8799be7d9f72679"><td class="mdescLeft">&#160;</td><td class="mdescRight">task handle of the button_task <br /></td></tr>
<tr class="separator:a5a60233721ae6d1ba8799be7d9f72679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a606c22a20a0c5473812a789009d932f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a606c22a20a0c5473812a789009d932f6">get_button_level</a> ()</td></tr>
<tr class="memdesc:a606c22a20a0c5473812a789009d932f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get level of a button, called from button task.  <br /></td></tr>
<tr class="separator:a606c22a20a0c5473812a789009d932f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3631d3fe54a3496c5c4bf7e2c710c68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#ac3631d3fe54a3496c5c4bf7e2c710c68">generate_quick_press_evt</a> ()</td></tr>
<tr class="memdesc:ac3631d3fe54a3496c5c4bf7e2c710c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a quick-press event.  <br /></td></tr>
<tr class="separator:ac3631d3fe54a3496c5c4bf7e2c710c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fb6cdcec33c78c4814fc86701bdc7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#ab9fb6cdcec33c78c4814fc86701bdc7a">generate_long_press_evt</a> ()</td></tr>
<tr class="memdesc:ab9fb6cdcec33c78c4814fc86701bdc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a long-press event.  <br /></td></tr>
<tr class="separator:ab9fb6cdcec33c78c4814fc86701bdc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6805cf87bb0b7bb3308d2e604f4e7dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#ac6805cf87bb0b7bb3308d2e604f4e7dd">generate_held_evt</a> ()</td></tr>
<tr class="memdesc:ac6805cf87bb0b7bb3308d2e604f4e7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a held event.  <br /></td></tr>
<tr class="separator:ac6805cf87bb0b7bb3308d2e604f4e7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bece5aeb0aa85339d669f21e457b8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a93bece5aeb0aa85339d669f21e457b8e">generate_released_evt</a> ()</td></tr>
<tr class="memdesc:a93bece5aeb0aa85339d669f21e457b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a released event.  <br /></td></tr>
<tr class="separator:a93bece5aeb0aa85339d669f21e457b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9bf9e7463d7c82dbf7834c8a822274"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a2e9bf9e7463d7c82dbf7834c8a822274">press_check</a> ()</td></tr>
<tr class="memdesc:a2e9bf9e7463d7c82dbf7834c8a822274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect quick-press or long-press event.  <br /></td></tr>
<tr class="separator:a2e9bf9e7463d7c82dbf7834c8a822274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3dfe22e3fcb1b2df144b3ae08b09b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a2f3dfe22e3fcb1b2df144b3ae08b09b3">released_check</a> ()</td></tr>
<tr class="memdesc:a2f3dfe22e3fcb1b2df144b3ae08b09b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate held events until button is released.  <br /></td></tr>
<tr class="separator:a2f3dfe22e3fcb1b2df144b3ae08b09b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e3de5e746361d1a4e6aa6a5bbcb793"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#ac7e3de5e746361d1a4e6aa6a5bbcb793">button_task</a> ()</td></tr>
<tr class="memdesc:ac7e3de5e746361d1a4e6aa6a5bbcb793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task responsible for determining and generating events.  <br /></td></tr>
<tr class="separator:ac7e3de5e746361d1a4e6aa6a5bbcb793"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aae67a1e052c81ad02d1e0ecc8e823af5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#aae67a1e052c81ad02d1e0ecc8e823af5">button_task_trampoline</a> (void *arg)</td></tr>
<tr class="memdesc:aae67a1e052c81ad02d1e0ecc8e823af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launches button task.  <br /></td></tr>
<tr class="separator:aae67a1e052c81ad02d1e0ecc8e823af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380a98af49d16f41dd9c8ba70ed03e23"><td class="memItemLeft" align="right" valign="top">static void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_button.html#a380a98af49d16f41dd9c8ba70ed03e23">button_handler</a> (void *arg)</td></tr>
<tr class="memdesc:a380a98af49d16f41dd9c8ba70ed03e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR handler responsible for handling button activity.  <br /></td></tr>
<tr class="separator:a380a98af49d16f41dd9c8ba70ed03e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3b973cad54cbb17738dc442a2242935e"><td class="memItemLeft" align="right" valign="top"><a id="a3b973cad54cbb17738dc442a2242935e" name="a3b973cad54cbb17738dc442a2242935e"></a>
<a class="el" href="class_button.html#struct_button_1_1button__config__t">button_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>button_conf</b></td></tr>
<tr class="memdesc:a3b973cad54cbb17738dc442a2242935e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the button configuration settings <br /></td></tr>
<tr class="separator:a3b973cad54cbb17738dc442a2242935e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6277c0ef74f409a3a5a1af0b0ffaca7c"><td class="memItemLeft" align="right" valign="top"><a id="a6277c0ef74f409a3a5a1af0b0ffaca7c" name="a6277c0ef74f409a3a5a1af0b0ffaca7c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>logging_en</b></td></tr>
<tr class="memdesc:a6277c0ef74f409a3a5a1af0b0ffaca7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">true to enable debugging logs, false otherwise <br /></td></tr>
<tr class="separator:a6277c0ef74f409a3a5a1af0b0ffaca7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb59aba9e0eddec6231e44a825578f2"><td class="memItemLeft" align="right" valign="top"><a id="a0bb59aba9e0eddec6231e44a825578f2" name="a0bb59aba9e0eddec6231e44a825578f2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>pending_scan</b></td></tr>
<tr class="memdesc:a0bb59aba9e0eddec6231e44a825578f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if an event has been asserted since the last time <a class="el" href="class_button.html#a713b68291767522afcc497527010583f" title="Scan for button event.">scan()</a> was called <br /></td></tr>
<tr class="separator:a0bb59aba9e0eddec6231e44a825578f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f62bfcedac3168177a12db8483e3e3a"><td class="memItemLeft" align="right" valign="top"><a id="a7f62bfcedac3168177a12db8483e3e3a" name="a7f62bfcedac3168177a12db8483e3e3a"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>name</b></td></tr>
<tr class="memdesc:a7f62bfcedac3168177a12db8483e3e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of button, used in debugging logs <br /></td></tr>
<tr class="separator:a7f62bfcedac3168177a12db8483e3e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a2d65daf4266db3718f2ea475315f0451"><td class="memItemLeft" align="right" valign="top"><a id="a2d65daf4266db3718f2ea475315f0451" name="a2d65daf4266db3718f2ea475315f0451"></a>
static const constexpr char *&#160;</td><td class="memItemRight" valign="bottom"><b>TAG</b> = &quot;Button&quot;</td></tr>
<tr class="memdesc:a2d65daf4266db3718f2ea475315f0451"><td class="mdescLeft">&#160;</td><td class="mdescRight">class tag, used in debug logs <br /></td></tr>
<tr class="separator:a2d65daf4266db3718f2ea475315f0451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a7ea213cdfc221d42d457d89e44906"><td class="memItemLeft" align="right" valign="top"><a id="ac7a7ea213cdfc221d42d457d89e44906" name="ac7a7ea213cdfc221d42d457d89e44906"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>isr_service_installed</b> = {false}</td></tr>
<tr class="memdesc:ac7a7ea213cdfc221d42d457d89e44906"><td class="mdescLeft">&#160;</td><td class="mdescRight">true of the isr service has been installed, false until first button is created <br /></td></tr>
<tr class="separator:ac7a7ea213cdfc221d42d457d89e44906"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing push-button or tactile switch, has self-contained driver. </p>
<p>Encapsulates a physical button or tactile switch and methods to interact with it.</p>
<p>Call the follow() method on the event member of a button to register a call-back function (see data_control documentation for more info on follow()).</p>
<p>Any call-back functions registered to a button's event member will be executed every time a button event is detected. <br  />
 Call-back functions can be registered in as many places as desired using follow(), where each button event can be handled in multiple places, independently.</p>
<dl class="section author"><dt>Author</dt><dd>Myles Parfeniuk </dd></dl>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_button_1_1button__config__t" id="struct_button_1_1button__config__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_button_1_1button__config__t">&#9670;&#160;</a></span>Button::button_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Button::button_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="abef78ddd69435d1f26d68a35339ac5cc" name="abef78ddd69435d1f26d68a35339ac5cc"></a>bool</td>
<td class="fieldname">
active_hi</td>
<td class="fielddoc">
true if the button is active-high (rising edge), false if otherwise </td></tr>
<tr><td class="fieldtype">
<a id="a2aa34145638fc1b06114049df51c6856" name="a2aa34145638fc1b06114049df51c6856"></a>bool</td>
<td class="fieldname">
active_lo</td>
<td class="fielddoc">
true if the button is active-low (falling edge), false if otherwise </td></tr>
<tr><td class="fieldtype">
<a id="a2ebaf46b191200ea3592583458ca55aa" name="a2ebaf46b191200ea3592583458ca55aa"></a>gpio_num_t</td>
<td class="fieldname">
gpio_num</td>
<td class="fielddoc">
the gpio number associated with the button </td></tr>
<tr><td class="fieldtype">
<a id="a323384aa42fac17b4be81bc260dcf0e7" name="a323384aa42fac17b4be81bc260dcf0e7"></a>int64_t</td>
<td class="fieldname">
held_evt_time</td>
<td class="fielddoc">
<p>held event generation time in microseconds (us), if the button is held for longer than (25ms+long_press_evt_time+hold_evt_time), <br  />
 held events will be generated every held_evt_time us </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae8f9eaa509e284fd381a1d8acd259407" name="ae8f9eaa509e284fd381a1d8acd259407"></a>int64_t</td>
<td class="fieldname">
long_press_evt_time</td>
<td class="fielddoc">
<p>long-press event generation time in microseconds (us), if the button is held for longer than (long_press_evt_time+25ms) a long-press event is generated, if it is released before (long_press_evt_time+25ms) elapses a quick-press event is generated instead </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a7ce7d7d90124d2316b89cd1d796dbb31" name="a7ce7d7d90124d2316b89cd1d796dbb31"></a>bool</td>
<td class="fieldname">
pull_en</td>
<td class="fielddoc">
true if internal pullup (for active low) or pulldown (for active high) should be enabled, false if using external pullup/pulldown </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8116e8c26b547c2801572f7b45aceea8" name="a8116e8c26b547c2801572f7b45aceea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8116e8c26b547c2801572f7b45aceea8">&#9670;&#160;</a></span>ButtonEvent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="class_button.html#a8116e8c26b547c2801572f7b45aceea8">Button::ButtonEvent</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The different kinds of button events that can be detected. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8116e8c26b547c2801572f7b45aceea8aead9be15f56a79815ce4b75f6ada4954" name="a8116e8c26b547c2801572f7b45aceea8aead9be15f56a79815ce4b75f6ada4954"></a>quick_press&#160;</td><td class="fielddoc"><p>quick-press event, generated if button is pressed, then released before (25ms + button-&gt;button_conf.long_press_evt_time) elapses </p>
</td></tr>
<tr><td class="fieldname"><a id="a8116e8c26b547c2801572f7b45aceea8a4c733dc96efea4f817573c76f22afefd" name="a8116e8c26b547c2801572f7b45aceea8a4c733dc96efea4f817573c76f22afefd"></a>long_press&#160;</td><td class="fielddoc"><p>long-press event, generated if button is pressed, and not released after (25ms + button-&gt;button_conf.long_press_evt_time) elapses </p>
</td></tr>
<tr><td class="fieldname"><a id="a8116e8c26b547c2801572f7b45aceea8a0eb29f5d6149e84750bcd6f6e741a7a1" name="a8116e8c26b547c2801572f7b45aceea8a0eb29f5d6149e84750bcd6f6e741a7a1"></a>held&#160;</td><td class="fielddoc"><p>held event, generated if button is held after long-press event has been generated, re-generates every button-&gt;button_conf-&gt;hold_evt_time microseconds until button is released </p>
</td></tr>
<tr><td class="fieldname"><a id="a8116e8c26b547c2801572f7b45aceea8a23690fd759f17135ec9879b56ff2600c" name="a8116e8c26b547c2801572f7b45aceea8a23690fd759f17135ec9879b56ff2600c"></a>released&#160;</td><td class="fielddoc"><p>release event, generated when button is released (note, button release event not generated for quick-press events) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa04c84eccbac801a3f77fd36002dc486" name="aa04c84eccbac801a3f77fd36002dc486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04c84eccbac801a3f77fd36002dc486">&#9670;&#160;</a></span>Button()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Button::Button </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_button.html#struct_button_1_1button__config__t">button_config_t</a>&#160;</td>
          <td class="paramname"><em>button_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>logging_en</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;unamed&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="class_button.html" title="Class representing push-button or tactile switch, has self-contained driver.">Button</a> object. </p>
<p>Constructs a new button object, if button_conf is not correctly initialized an error message will be printed to terminal and a backtrace will be dumped.</p>
<p>For correct initialization, ensure that:</p>
<ul>
<li>button_conf.active_lo is the opposite of button_conf.active_hi (button can only be active high or active low, not both). An active high button is one that outputs a logic high when pressed, an active low button is one that outputs a logic low when pressed.</li>
<li>button_conf.gpio_num is correctly set with the gpio number that is connected to the button</li>
<li>button_conf.long_press_evt_time is between 10000us and 5000000us</li>
<li>button_conf.held_evt_time is between 10000us and 5000000us</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">button_conf</td><td>button configuration information, contains information about whether the button is active high or low, which GPIO number is connected to button, event generation times, and if internal pullups/pulldowns should be enabled. </td></tr>
    <tr><td class="paramname">logging_en</td><td>logging status, true to enable logging, false to disable (optional, default false) </td></tr>
    <tr><td class="paramname">name</td><td>name of button object, printed out with logs to aid debugging (optional, default "unamed")</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a380a98af49d16f41dd9c8ba70ed03e23" name="a380a98af49d16f41dd9c8ba70ed03e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a380a98af49d16f41dd9c8ba70ed03e23">&#9670;&#160;</a></span>button_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR Button::button_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ISR handler responsible for handling button activity. </p>
<p>This ISR is entered when a falling edge is detected (for an active low button) or a rising edge (for an active high button). It resumes the button_task and disables the button's interrupt.</p>
<p><a class="el" href="class_button.html" title="Class representing push-button or tactile switch, has self-contained driver.">Button</a> interrupt is re-enabled in button_task upon button release.</p>
<p>button activity triggers isr --&gt; interrupt disabled --&gt; button_task notified --&gt; events are determined and generated --&gt; button release detected --&gt; interrupt enabled --&gt; button_task waits for notification</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="ac7e3de5e746361d1a4e6aa6a5bbcb793" name="ac7e3de5e746361d1a4e6aa6a5bbcb793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e3de5e746361d1a4e6aa6a5bbcb793">&#9670;&#160;</a></span>button_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::button_task </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Task responsible for determining and generating events. </p>
<p>This task is notified by the button_handler ISR when any button activity is detected. It determines the correct button events and generates them until the button is released. After the button is released the task waits until it is again notified by the button_handler ISR.</p>
<p>button activity triggers isr --&gt; interrupt disabled --&gt; button_task notified --&gt; events are determined and generated --&gt; button release detected --&gt; interrupt enabled --&gt; button_task waits for notification</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="aae67a1e052c81ad02d1e0ecc8e823af5" name="aae67a1e052c81ad02d1e0ecc8e823af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae67a1e052c81ad02d1e0ecc8e823af5">&#9670;&#160;</a></span>button_task_trampoline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::button_task_trampoline </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Launches button task. </p>
<p>This function is used to get around the fact xTaskCreate() from the freertos api requires a static task function.</p>
<p>To prevent having to write the button task from the context of a static function, this launches the <a class="el" href="class_button.html#ac7e3de5e746361d1a4e6aa6a5bbcb793" title="Task responsible for determining and generating events.">button_task()</a> from the <a class="el" href="class_button.html" title="Class representing push-button or tactile switch, has self-contained driver.">Button</a> object passed into xTaskCreate().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>a pointer to the button to detect events for casted to a void pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="ac6805cf87bb0b7bb3308d2e604f4e7dd" name="ac6805cf87bb0b7bb3308d2e604f4e7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6805cf87bb0b7bb3308d2e604f4e7dd">&#9670;&#160;</a></span>generate_held_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::generate_held_evt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a held event. </p>
<p>Generates a held event by calling set() method on this-&gt;event. This will execute any call-backs registered to the button and set pending_scan to true.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="ab9fb6cdcec33c78c4814fc86701bdc7a" name="ab9fb6cdcec33c78c4814fc86701bdc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fb6cdcec33c78c4814fc86701bdc7a">&#9670;&#160;</a></span>generate_long_press_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::generate_long_press_evt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a long-press event. </p>
<p>Generates a long press event by calling set() method on this-&gt;event. This will execute any call-backs registered to the button and set pending_scan to true.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="ac3631d3fe54a3496c5c4bf7e2c710c68" name="ac3631d3fe54a3496c5c4bf7e2c710c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3631d3fe54a3496c5c4bf7e2c710c68">&#9670;&#160;</a></span>generate_quick_press_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::generate_quick_press_evt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a quick-press event. </p>
<p>Generates a quick-press event by calling set() method on this-&gt;event. This will execute any call-backs registered to the button and set pending_scan to true.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="a93bece5aeb0aa85339d669f21e457b8e" name="a93bece5aeb0aa85339d669f21e457b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bece5aeb0aa85339d669f21e457b8e">&#9670;&#160;</a></span>generate_released_evt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::generate_released_evt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a released event. </p>
<p>Generates a released event by calling set() method on this-&gt;event. This will execute any call-backs registered to the button and set pending_scan to true.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="a606c22a20a0c5473812a789009d932f6" name="a606c22a20a0c5473812a789009d932f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606c22a20a0c5473812a789009d932f6">&#9670;&#160;</a></span>get_button_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Button::get_button_level </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get level of a button, called from button task. </p>
<p>Get the current level of a button (whether the button is currently being pressed or is inactive).</p>
<dl class="section return"><dt>Returns</dt><dd>true if button is currently being pressed, false if button inactive </dd></dl>

</div>
</div>
<a id="a2e9bf9e7463d7c82dbf7834c8a822274" name="a2e9bf9e7463d7c82dbf7834c8a822274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9bf9e7463d7c82dbf7834c8a822274">&#9670;&#160;</a></span>press_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Button::press_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detect quick-press or long-press event. </p>
<p>Generates a quick-press event if button is released before (25ms + button-&gt;button_conf.long_press_evt_time) elapse. Generates a long-press event otherwise.</p>
<dl class="section return"><dt>Returns</dt><dd>True if button was released (quick-press event generated), false if button was held for until long_press_evt_time elapsed. </dd></dl>

</div>
</div>
<a id="a2f3dfe22e3fcb1b2df144b3ae08b09b3" name="a2f3dfe22e3fcb1b2df144b3ae08b09b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f3dfe22e3fcb1b2df144b3ae08b09b3">&#9670;&#160;</a></span>released_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Button::released_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate held events until button is released. </p>
<p>Generates held events every button-&gt;button_conf.held_evt_time microseconds. If the button is released a release event will be generated and the function will exit.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<a id="a713b68291767522afcc497527010583f" name="a713b68291767522afcc497527010583f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713b68291767522afcc497527010583f">&#9670;&#160;</a></span>scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Button::scan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scan for button event. </p>
<p>Scan to see if a button event has ocurred. This function can be used to poll a button, if it returns true, the get() method can be called to return the type of event which occurred (quick-press, long-press, held, released).</p>
<p>It is not recommended to handle button events this way, <a class="el" href="class_button.html#a713b68291767522afcc497527010583f" title="Scan for button event.">scan()</a> can only be called in a single location (ie cannot be polled in two threads at once).</p>
<p>Instead of calling <a class="el" href="class_button.html#a713b68291767522afcc497527010583f" title="Scan for button event.">scan()</a>, it is recommended call the follow() method on the event member to register a call-back function.</p>
<dl class="section return"><dt>Returns</dt><dd>void, nothing to return </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/development/git/esp_BNO08x_testing/components/button_driver/<a class="el" href="_button_8hpp_source.html">Button.hpp</a></li>
<li>D:/development/git/esp_BNO08x_testing/components/button_driver/Button.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
